import{_ as s,o as n,c as a,O as l}from"./chunks/framework.4afe7240.js";const F=JSON.parse('{"title":"权限","description":"","frontmatter":{},"headers":[],"relativePath":"【Linux】.md","filePath":"【Linux】.md"}'),p={name:"【Linux】.md"},o=l(`<p><img src="https://omnaamelx4.feishu.cn/space/api/box/stream/download/asynccode/?code=OGY4ZDdjNDNmMTcxZjJlNDZmY2NhNDlmNjg4ZDI4N2FfdmNKWkNJeEc3cWxKbWQyb09ISmxPREVUMUdlQ3Q5ZUlfVG9rZW46Ym94Y25RVDhEdVoxVWdiS2p5VUFRdWJjUktjXzE2ODA1OTE5Mjc6MTY4MDU5NTUyN19WNA" alt=""></p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">指令集</span><span style="color:#676E95;font-style:italic;">//x86、ARM v8、MIPS都是指令集的代号。指令集可以被扩展，如x86增加64位支持就有了x86-64</span></span>
<span class="line"><span style="color:#A6ACCD;">架构</span><span style="color:#676E95;font-style:italic;">//是指令集的具体的实现? ARM64是ARM中64位体系结构</span></span>
<span class="line"><span style="color:#A6ACCD;">    ARM属于精简指令集体系，汇编指令比较简单。</span></span>
<span class="line"><span style="color:#A6ACCD;">    x86属于复杂指令集体系，汇编指令较多。属于两种不同的体系。</span></span>
<span class="line"><span style="color:#A6ACCD;">        x86 是一种“CPU”架构，最初用于 </span><span style="color:#F78C6C;">16</span><span style="color:#A6ACCD;"> 位“芯片”，后来扩展用于 </span><span style="color:#F78C6C;">32</span><span style="color:#A6ACCD;"> 位芯片。</span><span style="color:#676E95;font-style:italic;">//如果操作系统是 32 位，则意味着它运行的是 x86 CPU 架构芯片。（我这里不考虑ARM）    </span></span>
<span class="line"><span style="color:#A6ACCD;">        但是现在</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">x86 是 </span><span style="color:#F78C6C;">64</span><span style="color:#A6ACCD;"> 位芯片上的架构</span><span style="color:#89DDFF;">!!!</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//由于32位芯片的内存使用限制，只能支持4GB的RAM，所以x86后来扩展到64位芯片上, 基本上现在用相同的架构（指令集）来构建一个芯片使用 64bit 来表示一个数字，因此是 64bit 芯片。        最初它被称为 x86-64，后来被简化为 x64，这意味着现在x86 是 64 位芯片上的架构.</span></span></code></pre></div><blockquote><p>Windows命令</p></blockquote><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">批量拷贝目录下所有文件夹中的指定文件</span></span>
<span class="line"><span style="color:#A6ACCD;">    xcopy </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">D:</span><span style="color:#A6ACCD;">\\P</span><span style="color:#C3E88D;">rogram Files</span><span style="color:#A6ACCD;">\\O</span><span style="color:#C3E88D;">penVPN</span><span style="color:#A6ACCD;">\\c</span><span style="color:#C3E88D;">onfig</span><span style="color:#A6ACCD;">\\阿</span><span style="color:#C3E88D;">里正式新vpncerts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">D:</span><span style="color:#A6ACCD;">\\P</span><span style="color:#C3E88D;">rogram Files</span><span style="color:#A6ACCD;">\\O</span><span style="color:#C3E88D;">penVPN</span><span style="color:#A6ACCD;">\\c</span><span style="color:#C3E88D;">onfig</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">S </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">E </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">Y</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">#对于windows 远程端口</span></span>
<span class="line"><span style="color:#A6ACCD;">    telnet localhost </span><span style="color:#F78C6C;">8080</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">#对于windows 本地端口</span></span>
<span class="line"><span style="color:#A6ACCD;">    netstat </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">ano</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">findstr </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">8080</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">df </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">h </span><span style="color:#676E95;font-style:italic;">//查看磁盘信息空间剩余</span></span>
<span class="line"><span style="color:#A6ACCD;">    du </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">h </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">max</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">depth</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">usr</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">data </span><span style="color:#676E95;font-style:italic;">// 查看文件或文件夹的磁盘使用空间/大小</span></span>
<span class="line"><span style="color:#A6ACCD;">nohup </span><span style="color:#89DDFF;">./</span><span style="color:#A6ACCD;">startup</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">sh  </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">     </span><span style="color:#676E95;font-style:italic;">//nohup 再加个&amp; 在后台运行为job </span></span>
<span class="line"><span style="color:#A6ACCD;">    jobs</span></span>
<span class="line"><span style="color:#A6ACCD;">        杀死：kill </span><span style="color:#89DDFF;">%</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">（</span><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;">1是将要被杀死的job的进程号）</span></span>
<span class="line"><span style="color:#A6ACCD;">        激活：fg </span><span style="color:#89DDFF;">%</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">（</span><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;">1是将要被激活的job的进程号）</span></span>
<span class="line"><span style="color:#A6ACCD;">getconf LONG_BIT    </span><span style="color:#676E95;font-style:italic;">//查看系统是不是64位的：</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo nautilus 	</span><span style="color:#676E95;font-style:italic;">//以root权限打开nautilus图形文件管理器，系统自带的</span></span>
<span class="line"><span style="color:#A6ACCD;">free </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">m             </span><span style="color:#676E95;font-style:italic;">// 查看内存使用量和交换区使用量</span></span>
<span class="line"><span style="color:#A6ACCD;">lsb_release </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">a</span><span style="color:#676E95;font-style:italic;">// ，即可列出Linux内核版本</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">sudo chmod </span><span style="color:#F78C6C;">777</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">R </span><span style="color:#89DDFF;">./</span><span style="color:#A6ACCD;">tomcat </span><span style="color:#676E95;font-style:italic;">//操作文件时提示permission denied 给tomcat目录及目录下的文件递归执行更改权限操作所有的权限 77#改文件权限为 rwx rwx rwx   r=4，w=2，x=1          </span></span>
<span class="line"><span style="color:#A6ACCD;">    千万不要chmod整个</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">etc目录 </span><span style="color:#89DDFF;">!!!!</span></span>
<span class="line"><span style="color:#A6ACCD;">ifconfig</span><span style="color:#676E95;font-style:italic;">//查看ip</span></span>
<span class="line"><span style="color:#A6ACCD;">ip route show</span></span>
<span class="line"><span style="color:#A6ACCD;">#查看端口22是否打开检查哪些进程在占用端口</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo netstat </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">lnutp</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">grep </span><span style="color:#F78C6C;">8080</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo kill </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">9</span><span style="color:#A6ACCD;"> 进程id</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">通过PID号获取该恶意文件的路径 ls </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">l </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">proc</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">$PID</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">exe</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//传输文件夹到另一个机器上</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo scp </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">r </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">home</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">文件夹  gis@</span><span style="color:#F78C6C;">172.16</span><span style="color:#89DDFF;">.</span><span style="color:#F78C6C;">0.195</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">/</span><span style="color:#C3E88D;">home</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">文件夹</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">sudo rz </span><span style="color:#676E95;font-style:italic;">//上传文件</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo sz </span><span style="color:#676E95;font-style:italic;">//下载文件</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo passwd postgres </span><span style="color:#676E95;font-style:italic;">//修改postgres这个用户的密码</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">ps aux </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> grep java </span><span style="color:#676E95;font-style:italic;">//列出java相关进程,tomcat也是一个java进程</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo killall </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">9</span><span style="color:#A6ACCD;"> java </span><span style="color:#676E95;font-style:italic;">//杀掉java进程</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo bin</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">startup</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">sh </span><span style="color:#676E95;font-style:italic;">//tomcat目录下重启</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo tail </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">f logs</span><span style="color:#676E95;font-style:italic;">/*  //跟踪日志</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">快捷键</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    C+l : Clear</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    C+a/e : 行首/尾</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    C+u: 删除到行首</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    C+z: 把命令放入后台</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    C+r: 在历史命令中搜索</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">shell已经为我们准备好了这个续行符反斜杠 &quot;\\&quot;，来把一行命令分解成多行</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">要快速杀死所有在bash下停止的jobs，请输入：</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    kill -9 \`jobs -ps\` //jobs -ps列出已-p停止（-s）作业的进程ID（）。kill -9 \`jobs -ps\`将SIGKILL信号发送给所有人。</span></span></code></pre></div><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">not a valid identifier</span><span style="color:#676E95;font-style:italic;">//的一般原因  将等号两边的空格去掉就可以了，大家要注意</span></span>
<span class="line"><span style="color:#A6ACCD;">D</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">bus</span><span style="color:#676E95;font-style:italic;">//:一个进程间通信的工具</span></span>
<span class="line"><span style="color:#A6ACCD;">Systemctl</span><span style="color:#676E95;font-style:italic;">//:一个systemd工具,主要负责控制systemd系统和服务管理器</span></span>
<span class="line"><span style="color:#A6ACCD;">systemd</span><span style="color:#676E95;font-style:italic;">//:即为system daemon,是linux下的一种init软件，在Unix中常以“d”作为系统守护进程</span></span></code></pre></div><blockquote><p>Vim</p></blockquote><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">gedit 文件	</span><span style="color:#676E95;font-style:italic;">//用图形文件编辑器编辑，方便！！但通常，在服务器中，没有安装或需要桌面环境。因此，gedit无法启动和显示()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">vim编辑器有两种模式，命令模式和编辑模式，通过ESC键来切换</span></span>
<span class="line"><span style="color:#A6ACCD;">     vi filename </span><span style="color:#676E95;font-style:italic;">//打开或新增创建filename文件 </span></span>
<span class="line"><span style="color:#A6ACCD;">    :w </span><span style="color:#676E95;font-style:italic;">//保存文件     :w vpser.net //保存至vpser.net文件 </span></span>
<span class="line"><span style="color:#A6ACCD;">    :q </span><span style="color:#676E95;font-style:italic;">//退出编辑器，如果文件已修改请使用下面的命令 </span></span>
<span class="line"><span style="color:#A6ACCD;">    :q</span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//退出编辑器，且不保存 </span></span>
<span class="line"><span style="color:#A6ACCD;">    :wq </span><span style="color:#676E95;font-style:italic;">//退出编辑器，且保存文件</span></span>
<span class="line"><span style="color:#A6ACCD;">    dd </span><span style="color:#676E95;font-style:italic;">//删除当前行 </span></span>
<span class="line"><span style="color:#A6ACCD;">    ndd </span><span style="color:#676E95;font-style:italic;">//向下删除当前行在内的n行 </span></span>
<span class="line"><span style="color:#A6ACCD;">    u </span><span style="color:#676E95;font-style:italic;">//撤销上一步操作 </span></span>
<span class="line"><span style="color:#A6ACCD;">    U </span><span style="color:#676E95;font-style:italic;">//撤销对当前行的所有操作</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">xxx </span><span style="color:#676E95;font-style:italic;">//向光标下搜索vpser字符串     ?xxx //向光标上搜索vpser字符串 </span></span>
<span class="line"><span style="color:#A6ACCD;">        n </span><span style="color:#676E95;font-style:italic;">//向下搜索前一个搜素动作     N //向上搜索前一个搜索动作 </span></span>
<span class="line"><span style="color:#A6ACCD;">    G </span><span style="color:#676E95;font-style:italic;">//跳至文件的底部</span></span>
<span class="line"><span style="color:#A6ACCD;">    :set nu </span><span style="color:#676E95;font-style:italic;">//显示行号     :set nonu //取消显示行号</span></span></code></pre></div><blockquote><p>目录</p></blockquote><blockquote><p>Linux 系统目录结构</p></blockquote><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">[root@主机名  路径]</span><span style="color:#FFCB6B;">$</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">~</span><span style="color:#A6ACCD;"> home</span></span>
<span class="line"><span style="color:#A6ACCD;">    # root用户</span></span>
<span class="line"><span style="color:#A6ACCD;">    $ 普通用户</span></span>
<span class="line"><span style="color:#A6ACCD;">目录结构    </span><span style="color:#89DDFF;">/</span></span>
<span class="line"><span style="color:#A6ACCD;">    系统启动必须：</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">boot：存放的启动Linux 时使用的内核文件，包括连接文件以及镜像文件。</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">etc：存放所有的系统需要的配置文件和子目录列表，更改目录下的文件可能会导致系统不能启动。</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">lib：存放基本代码库（比如c</span><span style="color:#89DDFF;">++</span><span style="color:#A6ACCD;">库），其作用类似于Windows里的DLL文件。几乎所有的应用程序都需要用到这些共享库。</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">sys： 这是linux2</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">6内核的一个很大的变化。该目录下安装了2</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">6内核中新出现的一个文件系统 sysfs 。sysfs文件系统集成了下面3种文件系统的信息：针对进程信息的proc文件系统、针对设备的devfs文件系统以及针对伪终端的devpts文件系统。该文件系统是内核设备树的一个直观反映。当一个内核对象被创建的时候，对应的文件和目录也在内核对象子系统中</span></span>
<span class="line"><span style="color:#A6ACCD;">    指令集合：</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">bin：存放着最常用的程序和指令</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">sbin：只有系统管理员能使用的程序和指令。</span></span>
<span class="line"><span style="color:#A6ACCD;">    外部文件管理：</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">dev ：</span><span style="color:#82AAFF;">Device</span><span style="color:#A6ACCD;">(设备)的缩写</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> 存放的是Linux的外部设备。注意：在Linux中访问设备和访问文件的方式是相同的。</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">media：类windows的其他设备，例如U盘、光驱等等，识别后linux会把设备放到这个目录下。</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">mnt：临时挂载别的文件系统的，我们可以将光驱挂载在</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">mnt</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">上，然后进入该目录就可以查看光驱里的内容了。</span></span>
<span class="line"><span style="color:#A6ACCD;">    临时文件：</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">run：是一个临时文件系统，存储系统启动以来的信息。当系统重启时，这个目录下的文件应该被删掉或清除。如果你的系统上有 </span><span style="color:#89DDFF;">/</span><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;">/run 目录，应该让它指向 run。</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">lost</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">found：一般情况下为空的，系统非法关机后，这里就存放一些文件。</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">tmp：这个目录是用来存放一些临时文件的。</span></span>
<span class="line"><span style="color:#A6ACCD;">    账户：</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">root：系统管理员的用户主目录。</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">home：用户的主目录，以用户的账号命名的。</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">usr：用户的很多应用程序和文件都放在这个目录下，类似于windows下的program files目录。</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">usr</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">bin：系统用户使用的应用程序与指令。</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">usr</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">sbin：超级用户使用的比较高级的管理程序和系统守护程序。</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">usr</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">src：内核源代码默认的放置目录。</span></span>
<span class="line"><span style="color:#A6ACCD;">    运行过程中要用：</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">/</span><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;">：存放经常修改的数据，比如程序运行的日志文件（/var/log 目录下）。</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">proc：管理内存空间！虚拟的目录，是系统内存的映射，我们可以直接访问这个目录来，获取系统信息。这个目录的内容不在硬盘上而是在内存里，我们也可以直接修改里面的某些文件来做修改。</span></span>
<span class="line"><span style="color:#A6ACCD;">    扩展用的：</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">opt：默认是空的，我们安装额外软件可以放在这个里面。</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">srv：存放服务启动后需要提取的数据（不用服务器就是空）</span></span></code></pre></div><blockquote><p>下载与安装</p></blockquote><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">wget 网址		</span><span style="color:#676E95;font-style:italic;">//获取安装东西wget 是一个从网络上自动下载文件的自由工具</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">Yum                 </span><span style="color:#676E95;font-style:italic;">//是一个在Fedora和RedHat以及CentOS中的Shell 前端软件包管理器。</span></span>
<span class="line"><span style="color:#A6ACCD;">    yum reinstall polkit </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">y </span><span style="color:#676E95;font-style:italic;">//重新安装</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">APT                 </span><span style="color:#676E95;font-style:italic;">//（全称为AdvancedPackaging Tools）是一个在 Debian 和 Ubuntu 中的 Shell 前端软件包管理器。与 YUM对应</span></span>
<span class="line"><span style="color:#A6ACCD;">    apt</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">get update </span><span style="color:#676E95;font-style:italic;">//检查更新,别人会错误:E: Package &#39;XX&#39; has no installation candidate</span></span>
<span class="line"><span style="color:#A6ACCD;">    apt</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">get upgrade</span><span style="color:#676E95;font-style:italic;">//开始更新</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">RPM  </span><span style="color:#676E95;font-style:italic;">//Red-Hat Package Manager（RPM软件包管理器）的缩写    //centos是来自于redhat，所以centos支持rpm格式的安装</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//安装64位的jdk:  </span></span>
<span class="line"><span style="color:#A6ACCD;">    yum  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">y  install java</span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">1.8</span><span style="color:#89DDFF;">.</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">openjdk</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">x86_64  #</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">y（当安装过程提示选择全部为</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">yes</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">），</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">q（不显示安装的过程）</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//#通过yum默认安装的路径为:  </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">usr</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">lib</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">jvm</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">jre</span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">1.8</span><span style="color:#89DDFF;">.</span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//安装ssh：</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//#查看仓库包含ssh包	</span></span>
<span class="line"><span style="color:#A6ACCD;">    yum list </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> grep ssh  </span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//#安装ssh包：		</span></span>
<span class="line"><span style="color:#A6ACCD;">    yum  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">y  install openssh</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">clients</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">x86_64</span></span></code></pre></div><h1 id="权限" tabindex="-1">权限 <a class="header-anchor" href="#权限" aria-label="Permalink to &quot;权限&quot;">​</a></h1><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">3个num对应</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    拥有者、群组、其他</span></span>
<span class="line"><span style="color:#A6ACCD;">chmod </span><span style="color:#F78C6C;">4755</span><span style="color:#A6ACCD;"> filename    </span><span style="color:#676E95;font-style:italic;">#可使此程序具有root的权限.</span></span>
<span class="line"><span style="color:#A6ACCD;">chmod </span><span style="color:#F78C6C;">755</span><span style="color:#A6ACCD;"> hello</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">sh</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">#给权限</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#若要rwx属性则4+2+1=7； </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#若要rw-属性则4+2=6； </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#若要r-x属性则4+1=7。 </span></span>
<span class="line"><span style="color:#A6ACCD;">chmod </span><span style="color:#F78C6C;">777</span><span style="color:#A6ACCD;"> file          </span><span style="color:#676E95;font-style:italic;">#效果相同 chmod a=rwx file    //a 表示这三者皆是</span></span>
<span class="line"><span style="color:#A6ACCD;">chmod </span><span style="color:#F78C6C;">771</span><span style="color:#A6ACCD;"> file         </span><span style="color:#676E95;font-style:italic;">#效果相同 chmod ug=rwx,o=x file //u 表示该文件的拥有者，g 表示与该文件的拥有者属于同一个群体(group)者,o 表示其他以外的人</span></span></code></pre></div><blockquote><p>配置SSH</p></blockquote><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">#SSH 是目前较可靠，专为远程登录会话和其他网络服务提供安全性的协议</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#从客户端来看，SSH提供两种级别的安全验证。</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#第一种级别（基于口令的安全验证）易受到“中间人”这种方式的攻击。</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#第二种级别（基于密匙的安全验证）</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#需要依靠密匙，也就是你必须为自己创建一对密匙，并把公用密匙放在需要访问的服务器上。</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#查看ssh安装				</span></span>
<span class="line"><span style="color:#A6ACCD;">rpm </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">qa </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> grep openssh</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#没有安装openssh-clients		</span></span>
<span class="line"><span style="color:#A6ACCD;">yum </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">y install openssh</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">clients</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#开启ssh服务</span></span>
<span class="line"><span style="color:#A6ACCD;">service ssh start</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#开放8080端口给外网访问</span></span>
<span class="line"><span style="color:#F78C6C;">1.</span><span style="color:#A6ACCD;">开放端口命令： </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">sbin</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">iptables </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">I INPUT </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">p tcp --dport </span><span style="color:#F78C6C;">8080</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">j ACCEPT</span></span>
<span class="line"><span style="color:#F78C6C;">2.</span><span style="color:#A6ACCD;">保存：</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">etc</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">rc</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">d</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">init</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">d</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">iptables save</span></span>
<span class="line"><span style="color:#F78C6C;">3.</span><span style="color:#A6ACCD;">重启服务：</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">etc</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">init</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">d</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">iptables restart</span></span>
<span class="line"><span style="color:#F78C6C;">4.</span><span style="color:#A6ACCD;">查看端口是否开放：</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">sbin</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">iptables </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">L </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">n</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#ssh免密码登录</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#现在检查您是否可以在没有密码的情况下ssh到localhost：</span></span>
<span class="line"><span style="color:#A6ACCD;">  $ ssh localhost</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#如果在没有密码短语的情况下无法ssh到localhost，请执行以下命令：</span></span>
<span class="line"><span style="color:#A6ACCD;">  $ ssh</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">keygen </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">t dsa </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">P </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">f </span><span style="color:#89DDFF;">~/.</span><span style="color:#F07178;">ssh</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">id_dsa 	 </span><span style="color:#676E95;font-style:italic;"># -t密钥算法  -p “更改密码” -f指定文件名</span></span>
<span class="line"><span style="color:#A6ACCD;">  $ cat </span><span style="color:#89DDFF;">~/.</span><span style="color:#F07178;">ssh</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">id_dsa</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">pub</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">~/.</span><span style="color:#F07178;">ssh</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">authorized_keys </span><span style="color:#676E95;font-style:italic;"># cat file1 &gt;&gt; file2的意思是把 file1 的文档内容输入file2 这个文档里</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#修改root密码，在终端中输入passwd，然后，两次输入新的密码。</span></span></code></pre></div><blockquote><p>SHELL</p></blockquote><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">cat </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">etc</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">shells </span><span style="color:#676E95;font-style:italic;">#通过 cat 命令来查看当前 Linux 系统的可用 Shell</span></span>
<span class="line"><span style="color:#A6ACCD;">Bash </span><span style="color:#676E95;font-style:italic;">#是GNU计划编写的Unix shell其中比较流行的Shell之一,Bash 也是大多数Linux 系统默认的 Shell。</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">#通用的shell有标准的Bourne shell (sh）和C shell (csh）。</span></span>
<span class="line"><span style="color:#A6ACCD;">sh    </span><span style="color:#676E95;font-style:italic;">#切换默认bashshell到shshell</span></span>
<span class="line"><span style="color:#82AAFF;">exit</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">#退出shell</span></span>
<span class="line"><span style="color:#A6ACCD;">Shell </span><span style="color:#676E95;font-style:italic;">#是命令行解释器，是编程语言，用户通过它与内核（硬件）交互</span></span>
<span class="line"><span style="color:#A6ACCD;">linux默认shell</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> Bash</span></span>
<span class="line"><span style="color:#A6ACCD;">vim </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">etc</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">shells </span><span style="color:#676E95;font-style:italic;">#编辑文件 Vim是从vi 发展出来的一个文本编辑器</span></span>
<span class="line"><span style="color:#A6ACCD;">echo </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">#打印1</span></span>
<span class="line"><span style="color:#A6ACCD;">echo </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">e </span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\r</span><span style="color:#89DDFF;">&#39;</span><span style="color:#676E95;font-style:italic;">#打印回车</span></span>
<span class="line"><span style="color:#A6ACCD;">vi hello</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">sh</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">#编辑hello.sh             #!/bin/bash 第一句不是注释,是声明,不能删</span></span>
<span class="line"><span style="color:#A6ACCD;">bash hello</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">sh</span><span style="color:#A6ACCD;">     </span><span style="color:#676E95;font-style:italic;">#执行shell脚本</span></span>
<span class="line"><span style="color:#A6ACCD;">history           </span><span style="color:#676E95;font-style:italic;">#查看历史命令</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#Tab键自动补全</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#  $定义过的变量</span></span>
<span class="line"><span style="color:#A6ACCD;">your_name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">tom</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">echo $your_name</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#输出重定向:把命令的结果输出到文件中</span></span></code></pre></div><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">Linux 指GNU</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">Linux，即采用Linux内核的GNU操作系统，包涵 Linux内核 GNU组件 软件，可以被称为GNU</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">Linux</span></span>
<span class="line"><span style="color:#A6ACCD;">    GNU组件 可以运行于Linux内核之上，GNU的内核为Hurd</span></span>
<span class="line"><span style="color:#A6ACCD;">    在实际使用上，多半使用Linux内核、FreeBSD等替代方案，作为系统核心，其中主要的操作系统是Linux的发行版。</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">UNIX</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">Like	</span></span>
<span class="line"><span style="color:#A6ACCD;">    ▪ GNU	▪ Linux	▪ Android	▪ Debian    ▪ </span><span style="color:#82AAFF;">Ubuntu</span><span style="color:#A6ACCD;">(以桌面应用为主</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">使用的是apt</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">get命令安装软件)	</span></span>
<span class="line"><span style="color:#A6ACCD;">    ▪ Red Hat	▪ Linux Mint	▪ Minix    ▪ QNX	▪ GNU</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">Linux	▪ GNU</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">Hurd	▪ Debian GNU</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">Hurd   ▪ GNU</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">kFreeBSD	▪ StartOS</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">./</span><span style="color:#A6ACCD;">hello</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">sh    </span><span style="color:#676E95;font-style:italic;">//等同于     上一级/hello.sh</span></span>
<span class="line"><span style="color:#A6ACCD;">cat 文件	  </span><span style="color:#676E95;font-style:italic;">//把文件内容打印到控制台</span></span>
<span class="line"><span style="color:#A6ACCD;"> ll	  </span><span style="color:#676E95;font-style:italic;">//list即显示所有文件的详细信息 -a all显示隐藏文件</span></span>
<span class="line"><span style="color:#A6ACCD;"> pstree </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">p</span><span style="color:#676E95;font-style:italic;">//以一种优雅的方式展示进程树</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">Linux靠文件名区分文件类型</span></span>
<span class="line"><span style="color:#A6ACCD;">    压缩包：</span><span style="color:#89DDFF;">*.</span><span style="color:#A6ACCD;">gz  </span><span style="color:#89DDFF;">*.</span><span style="color:#A6ACCD;">bz2    </span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">tar</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">bz2、</span><span style="color:#89DDFF;">*.</span><span style="color:#A6ACCD;">tgz等</span></span>
<span class="line"><span style="color:#A6ACCD;">    二进制软件包：</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">rpm</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">命令行界面</span><span style="color:#A6ACCD;">(CLI) </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> 使用文本命令进行交互的用户界面</span></span>
<span class="line"><span style="color:#82AAFF;">终端</span><span style="color:#A6ACCD;">(Terminal) </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">TTY</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> 文本输入</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">输出环境</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">pts</span><span style="color:#A6ACCD;">(pseudo</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">terminal slave)</span><span style="color:#82AAFF;">是虚拟终端pty</span><span style="color:#A6ACCD;">(pseudo</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">tty)的实现方法</span></span>
<span class="line"><span style="color:#82AAFF;">控制台</span><span style="color:#A6ACCD;">(Console) </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> 一种特殊的终端</span></span></code></pre></div><blockquote><p>linux启动读取配置顺序</p></blockquote><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">一般只有</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">etc</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">profile </span><span style="color:#89DDFF;">--&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">~/.</span><span style="color:#A6ACCD;">bashrc </span></span>
<span class="line"><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">etc</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">profile </span></span>
<span class="line"><span style="color:#89DDFF;">-&gt;</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">~</span><span style="color:#89DDFF;">/</span><span style="color:#C3E88D;">.bash_profile </span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;"> ~</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">bash_login </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">~/.</span><span style="color:#A6ACCD;">profile) </span></span>
<span class="line"><span style="color:#89DDFF;">-&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">~/.</span><span style="color:#A6ACCD;">bashrc </span></span>
<span class="line"><span style="color:#89DDFF;">-&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">etc</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">bashrc</span></span>
<span class="line"><span style="color:#89DDFF;">-&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">~/.</span><span style="color:#A6ACCD;">bash_logout</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">关于各个文件的作用域，在网上找到了以下说明：</span></span>
<span class="line"><span style="color:#A6ACCD;">（</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">）</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">etc</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">profile： 此文件为系统的每个用户设置环境信息</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">当用户第一次登录时</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">该文件被执行</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;"> 并从</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">etc</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">profile</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">d目录的配置文件中搜集shell的设置。</span></span>
<span class="line"><span style="color:#A6ACCD;">（</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">）</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">etc</span><span style="color:#89DDFF;">/</span><span style="color:#FFCB6B;">bashrc</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> 为每一个运行bash shell的用户执行此文件</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">当bash shell被打开时</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">该文件被读取。</span></span>
<span class="line"><span style="color:#A6ACCD;">（</span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">）</span><span style="color:#89DDFF;">~/.</span><span style="color:#A6ACCD;">bash_profile: 每个用户都可使用该文件输入专用于自己使用的shell信息</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">当用户登录时</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">该文件仅仅执行一次</span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;">默认情况下</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">他设置一些环境变量</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">执行用户的</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">bashrc文件。</span></span>
<span class="line"><span style="color:#A6ACCD;">（</span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;">）</span><span style="color:#89DDFF;">~/.</span><span style="color:#A6ACCD;">bashrc: 该文件包含专用于你的bash shell的bash信息</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">当登录时以及每次打开新的shell时</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">该该文件被读取。</span></span>
<span class="line"><span style="color:#A6ACCD;">（</span><span style="color:#F78C6C;">5</span><span style="color:#A6ACCD;">）</span><span style="color:#89DDFF;">~/.</span><span style="color:#A6ACCD;">bash_logout:</span><span style="color:#82AAFF;">当每次退出系统</span><span style="color:#A6ACCD;">(退出bash shell)时</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">执行该文件</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;"> 另外</span><span style="color:#89DDFF;">,/</span><span style="color:#A6ACCD;">etc</span><span style="color:#89DDFF;">/</span><span style="color:#82AAFF;">profile中设定的变量</span><span style="color:#A6ACCD;">(全局)的可以作用于任何用户</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">而</span><span style="color:#89DDFF;">~/.</span><span style="color:#82AAFF;">bashrc等中设定的变量</span><span style="color:#A6ACCD;">(局部)只能继承</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">etc</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">profile中的变量</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">他们是</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">父子</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">关系。</span></span>
<span class="line"><span style="color:#A6ACCD;">（</span><span style="color:#F78C6C;">6</span><span style="color:#A6ACCD;">）</span><span style="color:#89DDFF;">~</span><span style="color:#89DDFF;">/</span><span style="color:#C3E88D;">.bash_profile 是交互式、login 方式进入 bash 运行的~</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">bashrc 是交互式 non</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">login 方式进入 bash 运行的通常二者设置大致相同，所以通常前者会调用后者。</span></span></code></pre></div><blockquote><p>文件</p></blockquote><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">ls </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">a </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">var</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">#显示隐藏的文件</span></span>
<span class="line"><span style="color:#A6ACCD;">ls </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">l </span><span style="color:#676E95;font-style:italic;">#详细信息</span></span>
<span class="line"><span style="color:#A6ACCD;">pwd	                    </span><span style="color:#676E95;font-style:italic;">#打印当前目录</span></span>
<span class="line"><span style="color:#A6ACCD;">mkdir                   </span><span style="color:#676E95;font-style:italic;">#新建文件夹 -p确保目录名称存在，不存在的就建一个</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">rm                      </span><span style="color:#676E95;font-style:italic;">#删除文件</span></span>
<span class="line"><span style="color:#A6ACCD;">rm </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">rf 目录名	      </span><span style="color:#676E95;font-style:italic;">#删除文件夹目录 -f 强制删除</span></span>
<span class="line"><span style="color:#A6ACCD;">cp </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">选项</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> srcfile copyfile	</span><span style="color:#676E95;font-style:italic;">#复制文件  -r复制目录 -p带属性复制 -d带链接文件属性复制 </span></span>
<span class="line"><span style="color:#A6ACCD;">                                        </span><span style="color:#676E95;font-style:italic;">#-a的作用是复制得一模一样,连修改时间都一样 </span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">mv srcfile copyfile 	</span><span style="color:#676E95;font-style:italic;">#移动，重命名   mv 的原文件或目录不加/</span></span>
<span class="line"><span style="color:#A6ACCD;">mv </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">a  </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">b</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">c                 </span><span style="color:#676E95;font-style:italic;">#例子：将/a目录移动到/b下，并重命名为c：</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> rw</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> r-- r--		</span><span style="color:#676E95;font-style:italic;">#-rw-所有者 r--所属组  r--其他人       r读w写x执行</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#第一位- 表示文件</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">ln </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">s orifile destfile  </span><span style="color:#676E95;font-style:italic;">#生成软链接文件,类似快捷方式                       http://www.imooc.com/video/4017</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#676E95;font-style:italic;">#硬链接相当于复制出一个文件出来了</span></span></code></pre></div><h1 id="压缩" tabindex="-1">压缩 <a class="header-anchor" href="#压缩" aria-label="Permalink to &quot;压缩&quot;">​</a></h1><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">#综合起来，在压缩比率上： tar.bz2&gt;tar.gz&gt;tar   #占用空间与压缩比率成反比： tar.bz2&lt;tar.gz&lt;tar</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#耗费时间（打包，解压）#打包：tar.bz2&gt;tar.gz&gt;tar  #解压： tar.bz2&gt;tar&gt;tar.gz</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#因此，Linux下对于占用空间与耗费时间的折衷多选用tar.gz格式，不仅压缩率较高，而且打包、解压的时间都较为快速，是较为理想的选择。</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#tar只是打包动作，相当于归档处理，不做压缩；解压也一样，只是把归档文件释放出来。</span></span>
<span class="line"><span style="color:#A6ACCD;">tar </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">cvf </span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">tar</span><span style="color:#A6ACCD;"> a</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#-c create打包 b</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#-x extract解压缩 </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#-v verbose显示过程日志</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#-f 指定打包后的文件名</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#-z --gzip</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#tar.gz其实这是对tar包进行gzip算法的压缩, gzip是GNUzip的缩写,它是一个GNU自由软件的文件压缩程序</span></span>
<span class="line"><span style="color:#A6ACCD;">tar </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">zxvf </span><span style="color:#676E95;font-style:italic;">#压缩文件名.tar.gz #解压</span></span>
<span class="line"><span style="color:#A6ACCD;">tar </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">zcvf </span><span style="color:#676E95;font-style:italic;">#压缩文件名 .tar.gz 被压缩文件名 #压缩</span></span></code></pre></div><h2 id="查找" tabindex="-1">查找 <a class="header-anchor" href="#查找" aria-label="Permalink to &quot;查找&quot;">​</a></h2><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">find </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">name </span><span style="color:#89DDFF;">*.</span><span style="color:#F07178;">mysql</span><span style="color:#89DDFF;">//</span><span style="color:#A6ACCD;">在指定目录下查找 文件，通配符匹配</span></span>
<span class="line"><span style="color:#A6ACCD;">find </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">mtime </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">#查找2天内修改的文件，多了一个减号</span></span>
<span class="line"><span style="color:#A6ACCD;">whereis mysql </span><span style="color:#89DDFF;">//</span><span style="color:#A6ACCD;">查找二进制程序、代码等相关文件路径</span></span>
<span class="line"><span style="color:#A6ACCD;">which </span><span style="color:#89DDFF;">//</span><span style="color:#A6ACCD;">查找并显示给定命令的绝对路径</span></span>
<span class="line"><span style="color:#A6ACCD;">systemctl status mysqld</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">service</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">//</span><span style="color:#A6ACCD;">mysql服务状态</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">//</span><span style="color:#A6ACCD;">或 service mysqld status</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">字符串</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    grep 字符串 文件名	        </span><span style="color:#676E95;font-style:italic;">#查找文件里符合条件的 字符串，正则匹配</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#locate与find 不同: find 是去硬盘找，locate 只在/var/lib/slocate资料库中找（更快）</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#所以locate的查找并不是实时的，而是以数据库的更新为准，一般是系统自己维护，也可以手工升级数据库 ，命令为：locate -u</span></span></code></pre></div><blockquote><p>环境变量</p></blockquote><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">echo $PATH 	</span><span style="color:#676E95;font-style:italic;">//#打印环境变量path</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">三种方法：</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">、只对当前的shell 起作用</span></span>
<span class="line"><span style="color:#A6ACCD;">        $PATH</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">$PATH</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">/</span><span style="color:#82AAFF;">NEW_PATH</span><span style="color:#A6ACCD;">  (关闭shell Path会还原为原来的path)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">、所有用户</span></span>
<span class="line"><span style="color:#A6ACCD;">        修改 </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">etc</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">profile 文件</span><span style="color:#676E95;font-style:italic;">// 此文件为系统的每个用户设置环境信息,当用户第一次登录时,该文件被执行.并从/etc/profile.d目录的配置文件中搜集shell的设置.</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">export</span><span style="color:#A6ACCD;">  PATH</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">$PATH:/NEW_PATH：$JAVA_HOME/bin</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">export</span><span style="color:#A6ACCD;"> JAVA_HOME</span><span style="color:#89DDFF;">=/</span><span style="color:#A6ACCD;">jdk1</span><span style="color:#89DDFF;">.</span><span style="color:#F78C6C;">6.0_14</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">export</span><span style="color:#A6ACCD;"> CLASSPATH</span><span style="color:#89DDFF;">=.</span><span style="color:#A6ACCD;">:$JAVA_HOME</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">lib</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">dt</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">jar:$JAVA_HOME</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">lib</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">tools</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">jar    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">、每个用户</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">etc</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">bashrc</span><span style="color:#676E95;font-style:italic;">//为每一个运行bash shell的用户执行此文件.当bash shell被打开时,该文件被读取</span></span>
<span class="line"><span style="color:#A6ACCD;">        在下面添加：</span><span style="color:#C792EA;">export</span><span style="color:#A6ACCD;">  PATH</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">$PATH:/NEW_PATH</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;">、</span><span style="color:#FFCB6B;">单独用户</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//隐藏的</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">~/.</span><span style="color:#A6ACCD;">bash_profile: 每个用户都可使用该文件输入专用于自己使用的shell信息</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">当用户登录时</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">该文件仅仅执行一次</span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;">默认情况下</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">他设置一些环境变量</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">执行用户的</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">bashrc文件</span><span style="color:#89DDFF;">.</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">~/.</span><span style="color:#A6ACCD;">bashrc: 该文件包含专用于你的bash shell的bash信息</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">当登录时以及每次打开新的shell时</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">该该文件被读取</span><span style="color:#89DDFF;">.</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">~/.</span><span style="color:#A6ACCD;">bash_logout: </span><span style="color:#82AAFF;">当每次退出系统</span><span style="color:#A6ACCD;">(退出bash shell)时</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">执行该文件</span><span style="color:#89DDFF;">.</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//  /etc/profile 和 ~/.bashrc 是&quot;父子&quot;继承关系</span></span></code></pre></div><blockquote><p>NGINX</p></blockquote><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">URI匹配</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">location</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">^~</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/images/</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;"># 前半部分匹配 ^~</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;"># 可以使用正则，如：</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;"># location ~* \\.(gif|jpg|png)$ { }</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">#语法规则</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">location</span><span style="color:#A6ACCD;"> [ </span><span style="color:#C3E88D;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">~</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">~*</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">^~</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">uri</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">...</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">#后面是要匹配的字符，花括号中是要执行的操作。</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">#修饰符</span></span>
<span class="line"><span style="color:#A6ACCD;">    =   </span><span style="color:#C3E88D;">表示精确匹配。只有请求的url路径与后面的字符串完全相等时，才会命中。</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">~</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;"> 表示该规则是使用正则定义的，区分大小写。</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">~* 表示该规则是使用正则定义的，不区分大小写。</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">^~ 表示如果该符号后面的字符是最佳匹配，采用该规则，不再进行后续的查找</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#FFCB6B;">配置CORS跨域</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">在server下加入</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">add_header</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Access-Control-Allow-Origin</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">*</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">add_header</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Access-Control-Allow-Methods</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">GET, POST, OPTIONS</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">add_header</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Access-Control-Allow-Credentials</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">true</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#FFCB6B;">配置https</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">server</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">listen</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">443</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ssl</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">server_name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">example.com</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">ssl_certificate</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/path/to/cert.pem</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">ssl_certificate_key</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/path/to/key.pem</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;font-style:italic;">#其他配置项</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#FFCB6B;">以下是在</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Windows</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">系统上使用</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Nginx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">常用的命令：</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">start</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">nginx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">stop</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">nginx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">reload</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">nginx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-t</span><span style="color:#A6ACCD;">#检查配置文件语法是否正确</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">nginx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-v</span><span style="color:#A6ACCD;">#显示 Nginx 版本信息</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">nginx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-V</span><span style="color:#A6ACCD;">#显示 Nginx 编译参数</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">请注意，以上命令应该在以管理员身份运行的命令行中执行。</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">如果您在安装</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Nginx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">时选择了将其添加到系统路径中，则可以在任何位置使用这些命令。</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">如果没有将</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Nginx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">添加到系统路径中，则需要先导航到</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Nginx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">的安装目录才能执行这些命令。</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#FFCB6B;">总结</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">location</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">加不加/</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">和</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">proxy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">加不加/</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">的影响</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">在nginx中配置proxy_pass时，当在后面的url加上了/，相当于是绝对根路径，则nginx不会把location中匹配的路径部分代理走</span><span style="color:#89DDFF;">;</span><span style="color:#FFCB6B;">如果没有/，则会把匹配的路径部分也给代理走。      </span></span>
<span class="line"><span style="color:#FFCB6B;">     首先是location进行的是模糊匹配</span></span>
<span class="line"><span style="color:#FFCB6B;">    1）没有“/”时，location /abc/def可以匹配/abc/defghi请求，也可以匹配/abc/def/ghi等</span></span>
<span class="line"><span style="color:#FFCB6B;">    2）而有“/”时，location /abc/def/不能匹配/abc/defghi请求，只能匹配/abc/def/anything这样的请求</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">下面四种情况分别用http://192.168.1.4/proxy/test.html 进行访问。</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">第一种：proxy加/不保留路径</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">location</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;"> /proxy/</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">proxy_pass http://127.0.0.1:81/</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">结论：会被代理到http://127.0.0.1:81/test.html 这个url</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">第二种(相对于第一种，最后少一个</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">location</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;"> /proxy/</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">proxy_pass http://127.0.0.1:81</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">结论：会被代理到http://127.0.0.1:81/proxy/test.html 这个url</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">第三种：</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">location</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;"> /proxy/</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">proxy_pass http://127.0.0.1:81/ftlynx/</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">结论：会被代理到http://127.0.0.1:81/ftlynx/test.html 这个url。</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">第四种(相对于第三种，最后少一个</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/</span><span style="color:#A6ACCD;"> )：</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">location</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;"> /proxy/</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">proxy_pass http://127.0.0.1:81/ftlynx</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">结论：会被代理到http://127.0.0.1:81/ftlynxtest.html 这个url</span></span></code></pre></div>`,32),e=[o];function t(c,r,y,C,D,A){return n(),a("div",null,e)}const h=s(p,[["render",t]]);export{F as __pageData,h as default};
